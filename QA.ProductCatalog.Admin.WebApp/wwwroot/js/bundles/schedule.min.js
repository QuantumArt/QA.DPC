function GetCronExprFromDate(n){return n==null?"":n.getMinutes()+" "+n.getHours()+" "+n.getDate()+" "+(n.getMonth()+1)+" ? "+n.getFullYear()}function GetDateFromCron(n){var t=n.split(" "),i=new Date(t[5],t[3]-1,t[2],t[1],t[0],0,0);return isNaN(i.getTime())&&(i=new Date,i.setDate((new Date).getDate()+1)),i}var jqCronDefaultSettings={texts:{},monthdays:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],hours:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],minutes:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],lang:"en",enabled_minute:!0,enabled_hour:!0,enabled_day:!0,enabled_week:!0,enabled_month:!0,enabled_year:!0,multiple_dom:!0,multiple_month:!0,multiple_mins:!0,multiple_dow:!0,multiple_time_hours:!0,multiple_time_minutes:!0,numeric_zero_pad:!1,default_period:"day",default_value:"",no_reset_button:!1,disabled:!1,bind_to:null,bind_method:{set:function(n,t){n.is(":input")?n.val(t):n.data("jqCronValue",t)},get:function(n){return n.is(":input")?n.val():n.data("jqCronValue")}}};(function(n){var t=function(i,r){for(var u in r)n.isPlainObject(r[u])?i[u]=t(i[u]&&n.isPlainObject(i[u])?i[u]:{},r[u]):n.isArray(r[u])?i[u]=r[u].slice(0):r[u]!==undefined&&(i[u]=r[u]);return i};this.jqCronMergeSettings=function(n){return t(t({},jqCronDefaultSettings),n||{})}}).call(this,jQuery),function(n){n.fn.jqCronGetInstance=function(){return this.data("jqCron")}}.call(this,jQuery),function(n){n.fn.jqCron=function(t){var i=t;return this.each(function(){var u,f,r=n(this),t=jqCronMergeSettings(i),e=t.texts[t.lang];if(typeof e!="object"||n.isEmptyObject(e)){console&&console.error('Missing translations for language "'+t.lang+'". Please include jqCron.'+t.lang+".js or manually provide the necessary translations when calling $.fn.jqCron().");return}if(!t.jquery_container)if(r.is(":container"))t.jquery_element=r.uniqueId("jqCron");else if(r.is(":autoclose"))r.next(".jqCron").length==1&&r.next(".jqCron").remove(),t.jquery_element=n('<span class="jqCron"><\/span>').uniqueId("jqCron").insertAfter(r);else{console&&console.error(t.texts[t.lang].error1.replace("%s",this.tagName));return}r.is(":input")&&(t.bind_to=t.bind_to||r);t.bind_to?(t.bind_to.is(":input")&&t.bind_to.blur(function(){var n=t.bind_method.get(t.bind_to);r.jqCronGetInstance().setCron(n)}),f=t.bind_method.get(t.bind_to),u=new jqCron(t),u.setCron(f)):u=new jqCron(t);n(this).data("jqCron",u)})}}.call(this,jQuery),function(n){function i(i){function a(n,u,s){var c=new jqCronSelector(r,n,u,s);return c.$.bind("selector:open",function(){for(var i,n=t.length;n--;)if(t[n]!=r)t[n].closeSelectors();else for(i=h.length;i--;)h[i]!=c&&h[i].close()}),c.$.bind("selector:change",function(){var n=!1;g&&(i.multiple_mins==i.multiple_time_minutes&&(c==e?n=o.setValue(e.getValue()):c==o&&(n=e.setValue(o.getValue()))),n||f.trigger("cron:change",r.getCron()))}),h.push(c),c}var g=!1,r=this,nt=this,f=n('<span class="jqCron-container"><\/span>'),l=n('<span class="jqCron-blocks"><\/span>'),tt=n('<span class="jqCron-period"><\/span>'),v=n('<span class="jqCron-dom"><\/span>'),p=n('<span class="jqCron-month"><\/span>'),w=n('<span class="jqCron-mins"><\/span>'),b=n('<span class="jqCron-dow"><\/span>'),s=n('<span class="jqCron-time"><\/span>'),it=n('<span class="jqCron-cross">&#10008;<\/span>'),h=[],u,e,c,o,k,y,d;this.disable=function(){f.addClass("disable");i.disable=!0;r.closeSelectors()};this.isDisabled=function(){return i.disable==!0};this.enable=function(){f.removeClass("disable");i.disable=!1};this.getCron=function(){var n=u.getValue(),t=["*","*","*","*","*"];return n=="hour"&&(t[0]=e.getCronValue()),(n=="day"||n=="week"||n=="month"||n=="year")&&(t[0]=o.getCronValue(),t[1]=c.getCronValue()),(n=="month"||n=="year")&&(t[2]=y.getCronValue()),n=="year"&&(t[3]=d.getCronValue()),n=="week"&&(t[4]=k.getCronValue()),t.join(" ")};this.setCron=function(n){if(n)try{n=n.replace(/\s+/g," ").replace(/^ +/,"").replace(/ +$/,"");var i=n.replace(/[^\* ]/g,"-").replace(/-+/g,"-").replace(/ +/g,""),t=n.split(" ");t.length!=5&&r.error(r.getText("error2"));i=="*****"?u.setValue("minute"):i=="-****"?(u.setValue("hour"),e.setCronValue(t[0]),o.setCronValue(t[0])):i.substring(2,i.length)=="***"?(u.setValue("day"),e.setCronValue(t[0]),o.setCronValue(t[0]),c.setCronValue(t[1])):i.substring(2,i.length)=="-**"?(u.setValue("month"),e.setCronValue(t[0]),o.setCronValue(t[0]),c.setCronValue(t[1]),y.setCronValue(t[2])):i.substring(2,i.length)=="**-"?(u.setValue("week"),e.setCronValue(t[0]),o.setCronValue(t[0]),c.setCronValue(t[1]),k.setCronValue(t[4])):i.substring(3,i.length)=="-*"?(u.setValue("year"),e.setCronValue(t[0]),o.setCronValue(t[0]),c.setCronValue(t[1]),y.setCronValue(t[2]),d.setCronValue(t[3])):r.error(r.getText("error4"));r.clearError()}catch(f){}};this.closeSelectors=function(){for(var n=h.length;n--;)h[n].close()};this.getId=function(){return nt.attr("id")};this.getText=function(n){var t=i.texts[i.lang][n]||null;return typeof t=="string"&&t.match("<b")&&(t=t.replace(/(<b *\/>)/gi,'<\/span><b /><span class="jqCron-text">'),t='<span class="jqCron-text">'+t+"<\/span>"),t};this.getHumanText=function(){var t=[];return f.find("> span > span:visible").find(".jqCron-text, .jqCron-selector > span").each(function(){var i=n(this).text().replace(/\s+$/g,"").replace(/^\s+/g,"");i&&t.push(i)}),t.join(" ").replace(/\s:\s/g,":")};this.getSettings=function(){return i};this.error=function(n){console&&console.error("[jqCron Error] "+n);f.addClass("jqCron-error").attr("title",n);throw n;};this.clearError=function(){f.attr("title","").removeClass("jqCron-error")};this.clear=function(){y.setValue([]);k.setValue([]);e.setValue([]);d.setValue([]);c.setValue([]);o.setValue([]);r.triggerChange()};this.init=function(){var t,rt;if(!g){for(i=jqCronMergeSettings(i),i.jquery_element||r.error(r.getText("error3")),nt=i.jquery_element,nt.append(f),f.data("id",i.id),f.data("jqCron",r),f.append(l),i.no_reset_button||f.append(it),i.disable&&f.addClass("disable"),l.append(tt),l.append(v),l.append(p),l.append(w),l.append(b),l.append(s),it.click(function(){r.isDisabled()||r.clear()}),f.bind("cron:change",function(n,t){i.bind_to&&(i.bind_method.set&&i.bind_method.set(i.bind_to,t),r.clearError())}),tt.append(r.getText("text_period")),u=a(tt,!1,"period"),i.enabled_minute&&u.add("minute",r.getText("name_minute")),i.enabled_hour&&u.add("hour",r.getText("name_hour")),i.enabled_day&&u.add("day",r.getText("name_day")),i.enabled_week&&u.add("week",r.getText("name_week")),i.enabled_month&&u.add("month",r.getText("name_month")),i.enabled_year&&u.add("year",r.getText("name_year")),u.$.bind("selector:change",function(n,t){v.hide();p.hide();w.hide();b.hide();s.hide();t=="hour"?w.show():t=="day"?s.show():t=="week"?(b.show(),s.show()):t=="month"?(v.show(),s.show()):t=="year"&&(v.show(),p.show(),s.show())}),u.setValue(i.default_period),w.append(r.getText("text_mins")),e=a(w,i.multiple_mins,"minutes"),t=0,rt=i.minutes;t<rt.length;t++)e.add(rt[t],rt[t]);for(s.append(r.getText("text_time")),c=a(s,i.multiple_time_hours,"time_hours"),t=0,rt=i.hours;t<rt.length;t++)c.add(rt[t],rt[t]);for(o=a(s,i.multiple_time_minutes,"time_minutes"),t=0,rt=i.minutes;t<rt.length;t++)o.add(rt[t],rt[t]);for(b.append(r.getText("text_dow")),k=a(b,i.multiple_dow,"day_of_week"),t=0,rt=r.getText("weekdays");t<rt.length;t++)k.add(t+1,rt[t]);for(v.append(r.getText("text_dom")),y=a(v,i.multiple_dom,"day_of_month"),t=0,rt=i.monthdays;t<rt.length;t++)y.add(rt[t],rt[t]);for(p.append(r.getText("text_month")),d=a(p,i.multiple_month,"month"),t=0,rt=r.getText("months");t<rt.length;t++)d.add(t+1,rt[t]);n("body").click(function(){for(var t=h.length,n=0;n<t;n++)h[n].close()});g=!0;i.default_value&&r.setCron(i.default_value)}};this.triggerChange=function(){f.trigger("cron:change",r.getCron())};t.push(this);this.$=f;try{this.init();r.triggerChange()}catch(rt){}}var t=[];this.jqCron=i}.call(this,jQuery),function(n){function t(t,i,r,u){function v(n){for(var t=0,u=n.length,i={},r=[];t<u;)i[n[t]]||(i[n[t]]=1&&r.push(n[t])),t++;return r}var e=this,o=n('<ul class="jqCron-selector-list"><\/ul>'),c=n('<span class="jqCron-selector-title"><\/span>'),h=n('<span class="jqCron-selector"><\/span>'),s={},f=[],l=!0,a=t.getSettings().numeric_zero_pad;this.getValue=function(){return r?f:f[0]};this.getCronValue=function(){if(f.length==0)return"*";for(var i=[f[0]],r=f[0],t=f[0],u=f.length,n=1;n<u;n++)f[n]==t+1?(t=f[n],i[i.length-1]=r+"-"+t):(r=t=f[n],i.push(t));return i.join(",")};this.setCronValue=function(n){var r=[],t,i;if(n!=="*")while(n!=""){if(t=n.match(/^\*\/([0-9]+),?/),t&&t.length==2){for(i=0;i<=59;i+=t[1]|0)r.push(i);n=n.replace(t[0],"");continue}if(t=n.match(/^([0-9]+)-([0-9]+)\/([0-9]+),?/),t&&t.length==4){for(i=t[1]|0;i<=(t[2]|0);i+=t[3]|0)r.push(i);n=n.replace(t[0],"");continue}if(t=n.match(/^([0-9]+)-([0-9]+),?/),t&&t.length==3){for(i=t[1]|0;i<=(t[2]|0);i++)r.push(i);n=n.replace(t[0],"");continue}if(t=n.match(/^([0-9]+),?/),t&&t.length==2){r.push(t[1]|0);n=n.replace(t[0],"");continue}return}e.setValue(r)};this.close=function(){h.trigger("selector:close")};this.open=function(){h.trigger("selector:open")};this.isOpened=function(){return o.is(":visible")};this.addValue=function(n){var t=r?f.slice(0):[];t.push(n);e.setValue(t)};this.removeValue=function(n){if(r){for(var i=[],t=0;t<f.length;t++)n!=[f[t]]&&i.push(f[t]);e.setValue(i)}else e.clear()};this.setValue=function(t){var i,u=[],e=f.join(" ");if(n.isArray(t)||(t=[t]),o.find("li").removeClass("selected"),t=v(t),t.sort(function(n,t){var i=typeof n,r=typeof t;return i==r&&i=="number"?n-t:String(n)==String(t)?0:String(n)<String(t)?-1:1}),r)for(i=0;i<t.length;i++)t[i]in s&&(s[t[i]].addClass("selected"),u.push(t[i]));else t[0]in s&&(s[t[0]].addClass("selected"),u.push(t[0]));return(f=u,e!=f.join(" "))?(h.trigger("selector:change",r?t:t[0]),!0):!1};this.getTitleText=function(){var r=function(n){return n in s?s[n].text():n};if(f.length==0)return t.getText("empty_"+u)||t.getText("empty");for(var e=[r(f[0])],o=f[0],i=f[0],h=f.length,n=1;n<h;n++)f[n]==i+1?(i=f[n],e[e.length-1]=r(o)+"-"+r(i)):(o=i=f[n],e.push(r(i)));return e.join(",")};this.clear=function(){s={};e.setValue([]);o.empty()};this.add=function(t,i){(i+"").match(/^[0-9]+$/)||(l=!1);a&&l&&i<10&&(i="0"+i);var u=n("<li>"+i+"<\/li>");o.append(u);s[t]=u;u.click(function(){r&&n(this).hasClass("selected")?e.removeValue(t):(e.addValue(t),r||e.close())})};this.$=h;i.find("b:eq(0)").after(h).remove();h.addClass("jqCron-selector-"+i.find(".jqCron-selector").length).append(c).append(o).bind("selector:open",function(){if(l){var t=1,n=o.find("li").length;n>5&&n<=16?t=2:n>16&&n<=23?t=3:n>23&&n<=40?t=4:n>40&&(t=5);o.addClass("cols"+t)}o.show()}).bind("selector:close",function(){o.hide()}).bind("selector:change",function(){c.html(e.getTitleText())}).click(function(n){n.stopPropagation()}).trigger("selector:change");n.fn.disableSelection&&h.disableSelection();c.click(function(){e.isOpened()||t.isDisabled()?e.close():e.open()});e.close();e.clear()}this.jqCronSelector=t}.call(this,jQuery),function(n){var t=0,i=function(n){for(var i;;)if(t++,i=(n||"JQUID")+""+t,!document.getElementById(i))return i};n.fn.uniqueId=function(t){return this.each(function(){if(!n(this).attr("id")){var r=i(t);n(this).attr("id",r)}})}}.call(this,jQuery),function(n){n.extend(n.expr[":"],{container:function(n){return(n.tagName+"").toLowerCase()in{a:1,abbr:1,acronym:1,address:1,b:1,big:1,blockquote:1,button:1,cite:1,code:1,dd:1,del:1,dfn:1,div:1,dt:1,em:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,i:1,ins:1,kbd:1,label:1,li:1,p:1,pre:1,q:1,samp:1,small:1,span:1,strong:1,sub:1,sup:1,td:1,tt:1}},autoclose:function(n){return(n.tagName+"").toLowerCase()in{area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,link:1,meta:1,param:1}}})}.call(this,jQuery);jqCronDefaultSettings.texts.en={empty:"every",empty_minutes:"every",empty_time_hours:"every hour",empty_time_minutes:"every minute",empty_day_of_week:"every day of the week",empty_day_of_month:"every day of the month",empty_month:"every month",name_minute:"minute",name_hour:"hour",name_day:"day",name_week:"week",name_month:"month",name_year:"year",text_period:"Every <b />",text_mins:" at <b /> minute(s) past the hour",text_time:" at <b />:<b />",text_dow:" on <b />",text_month:" of <b />",text_dom:" on <b />",error1:"The tag %s is not supported !",error2:"Bad number of elements",error3:"The jquery_element should be set into jqCron settings",error4:"Unrecognized expression",weekdays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],months:["january","february","march","april","may","june","july","august","september","october","november","december"]};